version: '3'
services:
  trump-postgis:
    image: slothofanarchy/trump-postgis
    build: ./postgis/
    env_file:
      - ./postgis/env
    volumes:
      - data:/var/lib/postgresql/data
    restart: on-failure
  trump-mapnik:
    image: slothofanarchy/trump-mapnik
    build: ./mapnik/
    links:
      - trump-postgis
    tty: true
    restart: on-failure
  trump-area:
    image: slothofanarchy/trump-area
    build: ./area/
    links:
      - trump-postgis
    tty: true
    restart: on-failure
  trump-client:
    image: slothofanarchy/trump-client
    build: ./client/
    links:
      - trump-postgis
    tty: true
    restart: on-failure
  trump-label:
    image: slothofanarchy/trump-label
    build: ./label/
    links:
      - trump-postgis
    tty: true
    restart: on-failure
volumes:
  data: {}
